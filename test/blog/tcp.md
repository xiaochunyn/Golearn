
## ARP地址解析协议

- 每个主机都会在自己的ARP缓冲区建立一个ARP列表，以表示ip和mac之间的对应关系
- 源主机发送数据包是，首先检查ARP列表中是否有对应IP地址的目的主机的mac地址，如果有则直接发送数据，如果没有，就像本网段所有主机发送ARP数据包，该数据包包括的内容有：**源主机IP，源主机Mac，目的主机IP**
- 本网段的主机收到ARP数据包时，首先检查数据包中的IP地址是不是自己的IP地址，如果不是，则忽略该数据包；如果是，则从数据包中取出源主机的IP和MAC写入到ARP列表，如果已经存在则覆盖，然后将自己的MAC地址写入ARP响应包中，高速源主机自己是它想要找的MAC地址
- 源主机收到ARP响应包后，将目的主机的IP和MAC写入ARP列表，并利用此信息发送数据； 如果源主机一直没有收到ARP响应数据包，表示ARP寻址失败
广播发送ARP请求，单播发送ARP响应

## RARP

RARP是逆地址解析协议，作用是完成硬件地址到IP地址的映射，主要用于无盘工作站，因为给无盘工作站配置的IP地址不能保存。工作流程：在网络中配置一台RARP服务器，里面保存着IP地址和MAC地址的映射关系，当无盘工作站启动后，就封装一个RARP数据包，里面有其MAC地址，然后广播到网络上去，当服务器收到请求包后，就查找对应的MAC地址的IP地址装入响应报文中发回给请求者。因为需要广播请求报文，因此RARP只能用于具有广播能力的网络。